<angled-navbar menus="vm.menu"></angled-navbar>

<div ng-show="vm.me.current_teammembership_set[vm.me.current_teammembership_set.length - 1].is_leader">
  <div ng-show="vm.error.show">
    <div class="alert alert-danger" role="alert">
      {{vm.error.message}}
    </div>
  </div>
  <div ng-show="vm.success.show">
    <div class="alert alert-success" role="alert">
      {{vm.success.message}}
    </div>
  </div>
  <div>
    <div class="row marketing" >
      <form class="form-horizontal" name="inviteForm" ng-submit="vm.submitForm()" novalidate>
        <div class="form-group">
          <label class="col-sm-4 control-label">Покани участник в отбора:</label>
          <div class="col-sm-6">
            <input type="email" name="email" class="form-control" ng-model="vm.user.email" placeholder="Email">
          </div>
          <div class="text-center col-sm-2">
            <button type="submit" class="btn btn-primary">
              Покани
            </button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>

<div class="card card-container" id="register-form">
  <button class="btn btn-danger" ng-click="vm.leave()" style="float:right;" data-toggle="confirmation">Напусни отбора!</button>

  <a ui-sref="teamedit" ng-show="vm.me.current_teammembership_set[vm.me.current_teammembership_set.length - 1].is_leader">
    <button class="btn btn-success">Промени отбора</button>
  </a>

  <h3>
    {{vm.team.name}}
  </h3>
  <p>
    {{vm.team.idea_description}}
  </p>
  <strong>Създател:</strong> {{vm.leader.first_name }} - {{vm.leader.email}}
  <p>
    <strong>Технологии:</strong> {{vm.techNames}}
    <br>
    <strong>Стая:</strong> {{ vm.team.room }}
  </p>
  <p></p>
  <table class="table table-bordered table-hover" ng-show="vm.team.members.length != 1">
    <tr>
      <th>
        Име
      </th>
      <th>
        Email
      </th>
    </tr>
    <tr ng-repeat="member in vm.team.members">
      <td>{{member.first_name + ' ' + member.last_name}}</td>
      <td>{{member.email}}</td>
    </tr>
  </table>
  <div class="alert alert-danger text-center" role="alert" ng-show="vm.team.members.length == 1">
    <p>Все още нямаш съотборници! За да участваш трябва да си в отбор, който включва поне двама участника.</p>
  </div>
</div>
